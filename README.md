# Мікросервіс авторизації  

Цей мікросервіс реалізує механізм реєстрації, логіну та керування доступом користувачів з використанням токенів доступу (Access Token) та токенів для оновлення (Refresh Token).  

## Опис  

Мікросервіс надає API для:  
- Реєстрації нових користувачів  
- Логіну користувачів  
- Верифікації токенів доступу  
- Оновлення токенів  

### Основні можливості:  
1. **Реєстрація користувача**:  
   - Перевірка на дублювання email.
   - Хешування пароля.  
   - Створення користувача в базі даних.  
   - Повернення access token після успішної реєстрації.  

2. **Логін користувача**:    
   - Перевірка пароля користувача.    
   - Повернення access та refresh токенів після успішного входу.  

3. **API для отримання інформації про поточного користувача (me)**:  
   - Перевірка валідності токена.  
   - Повернення даних користувача та перевірка його ролі.  

4. **Оновлення токенів**:  
   - Оновлення access токена за допомогою refresh токена.  

## Підготовка середовища  

1. Клонуйте репозиторій:    
   git clone <url-репозиторію>  
2. Перейдіть до каталогу проєкту:  
   cd auth-service    
4. Встановіть залежності:  
   npm install  
5. Налаштуйте базу даних. Для цього потрібно:  
   Створити базу даних.  
   Вказати налаштування підключення до бази даних у файлі конфігурації (наприклад, .env).  

## Налаштування середовища  
1.творіть файл .env у кореневій директорії проєкту та налаштуйте змінні середовища:  
PORT=5000  
MONGO_URI=your_database  
ACCESS_SECRET=your_secret_key  
REFRESH_SECRET=your_refresh_secret_key  
## Запуск проєкту    
Для запуску сервера використовуйте команду:  
npm start  
## API Маршрути    
1. Реєстрація користувача  
Метод: POST  
Шлях: /register  
Тіло запиту:  
{  
  "email": "user@example.com",  
  "password": "Password123"  
}  
Успішна відповідь:  
Статус: 201 Created  
Тіло:  
{  
  "accessToken": "your_access_token"  
}  
2. Логін користувача  
Метод: POST  
Шлях: /login  
Тіло запиту:  
{  
  "email": "user@example.com",  
  "password": "Password123"  
}  
Успішна відповідь:  
Статус: 200 OK  
Тіло:  
{  
  "accessToken": "your_access_token",  
  "refreshToken": "your_refresh_token"  
}  
3. Отримання даних користувача  
Метод: GET  
Шлях: /me    
Токен доступу потрібно передавати в заголовку:  
Authorization: Bearer <access_token>  
Успішна відповідь:  
Статус: 200 OK  
Тіло:
{  
  "id": 1,  
  "email": "user@example.com",  
  "role": "user"  
}
4. Оновлення токенів  
Метод: POST  
Шлях: /refresh  
Тіло запиту:  
{  
  "refreshToken": "your_refresh_token"  
}  
Успішна відповідь:  
Статус: 200 OK  
Тіло:  
{  
  "accessToken": "new_access_token"  

}  
